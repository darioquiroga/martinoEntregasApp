<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Buscar Cami√≥n</ion-title>
    <ion-buttons slot="end">
      <ion-back-button defaultHref="/login"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding class="body">
  <br /><br />
  <div *ngIf="!loading" class="buscar-content">
    <ion-item class="busqueda-container">
      <ion-label color="primary" floating>Ingrese patente o carta</ion-label>

      <ion-searchbar
        animated="true"
        [(ngModel)]="nroCartaOPatenteBuscada"
        [debounce]="500"
        style="color: grey"
        placeholder="Numero de carta o patente"
      ></ion-searchbar>
    </ion-item>


    <!-- Muestro la tabla cuando encuentre elementos -->
    <!-- <div *ngIf="cartasEncontradas && cartasEncontradas.length > 0" class="table-container"> -->
    <ion-card  *ngIf="(cartaEncontrada && cartaEncontrada.length > 0)">
      <ion-card-header>
        <ion-card-title style="color: rgb(46, 46, 46);">Ctg / Patente: {{cardTitulo}}</ion-card-title>
        <ion-card-subtitle>Destino:  {{cardSubTitulo}}</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
      <div
        *ngIf="(cartaEncontrada && cartaEncontrada.length > 0) "
        class="table-container"
      >


        <div class="table-container" *ngIf="this.cartaEncontrada.length > 0">
          <!-- aca muestro carta de porte COMUN -->
          <div>
            <div
              class="element-table"
              *ngFor="let cartaPorte of completeTableDataMostrar  ; index as i ">
              <div>

                <ion-item slot="header" color="light" class="ion-item">
                  <ion-label>
                    <div
                      class="important-info wrapper"

                    >
                      <ion-row style="width: 100%">
                        <ion-col style="width: 150px">
                          <div class="espacioEntreReg">
                           Engregador:
                          </div>
                        </ion-col>

                        <ion-col >
                          <div class="espacioEntreReg">
                            {{cartaEncontrada[0].entregador.nombre}}
                          </div>
                        </ion-col>


                      </ion-row>
                    </div>
                  </ion-label>
                </ion-item>

                <ion-item slot="header" color="light" class="ion-item">
                  <ion-label>
                    <div
                      class="important-info wrapper"

                    >
                      <ion-row style="width: 100%">
                        <ion-col style="width: 150%">
                          <div class="espacioEntreReg">
                           Estado:
                          </div>
                        </ion-col>


                        <ion-col >
                          <div class="espacioEntreReg">
                           <strong>{{ cartaEncontrada[i].estadoPosiReal ? cartaEncontrada[i].estadoPosiReal : cartaEncontrada[i].estadoCarta.descripcion }}</strong>
                            </div>
                          </ion-col>



                      </ion-row>
                    </div>
                  </ion-label>
                </ion-item>

                <ion-item slot="header" color="light" class="ion-item">
                  <ion-label>
                    <div
                      class="important-info wrapper"

                    >
                      <ion-row style="width: 100%">
                        <ion-col style="width: 150%">
                          <div class="espacioEntreReg">
                           Ctg / Nro Carta:
                          </div>
                        </ion-col>


                        <ion-col >
                          <div class="espacioEntreReg">
                           <strong>{{ cartaEncontrada[i].nroCarta }}</strong>
                            </div>
                          </ion-col>



                      </ion-row>
                    </div>
                  </ion-label>
                </ion-item>
                <ion-item slot="header" color="light" class="ion-item">
                  <ion-label>
                    <div
                      class="important-info wrapper"

                    >
                      <ion-row style="width: 100%">
                        <ion-col style="width: 150%">
                          <div class="espacioEntreReg">
                           Patente:
                          </div>
                        </ion-col>


                        <ion-col >
                          <div class="espacioEntreReg">
                           <strong>{{ cartaEncontrada[i].patente }}</strong>
                            </div>
                          </ion-col>



                      </ion-row>
                    </div>
                  </ion-label>
                </ion-item>
              </div>
            </div>
          </div>


        </div>
      </div>
    </ion-card-content>
    </ion-card>
    <ion-button
    style="padding-left: 20px; padding-right: 20px; color: grey"
    id="submit-btn"
    type="submit"
    (click)="onClickBuscar()"
    expand="block"
    class="btn-login"
    >BUSCAR</ion-button
  >
  <ion-button
  style="padding-left: 20px; padding-right: 20px; color: grey"
  id="submit-btn"
  type="submit"
  (click)="onClickEnviarWhatsUp()"
  expand="block"
  class="btn-login"
  >whats up</ion-button
>

    <!-- /////////////////////// -->
  </div>
</ion-content>
